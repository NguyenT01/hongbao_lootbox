/* ============================================
   OVERWATCH â€” Lootbox animations (OW style)
   ============================================ */

/* Shimmer on hongbao */
.hongbao-shimmer {
  background: linear-gradient(
    105deg,
    transparent 40%,
    rgba(255, 215, 0, 0.15) 45%,
    rgba(255, 215, 0, 0.3) 50%,
    rgba(255, 215, 0, 0.15) 55%,
    transparent 60%
  );
  background-size: 200% 100%;
  animation: shimmer 3s ease-in-out infinite;
}

@keyframes shimmer {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

/* Floating particles */
.floating-particle {
  position: absolute;
  pointer-events: none;
  animation: floatUp linear forwards;
  opacity: 0;
}

@keyframes floatUp {
  0% {
    opacity: 0;
    transform: translateY(100vh) rotate(0deg) scale(0.5);
  }
  10% {
    opacity: 0.8;
  }
  90% {
    opacity: 0.4;
  }
  100% {
    opacity: 0;
    transform: translateY(-20vh) rotate(720deg) scale(0.2);
  }
}

.hoa-mai {
  font-size: 24px;
  filter: drop-shadow(0 0 6px rgba(255, 215, 0, 0.4));
}

/* Rarity beam */
.beam-column {
  width: 120px;
  height: 100vh;
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  background: linear-gradient(
    180deg,
    transparent 0%,
    var(--beam-color, #fff) 30%,
    var(--beam-color, #fff) 70%,
    transparent 100%
  );
  filter: blur(30px);
  opacity: 0.8;
}

/* Idle bob */
.lootbox-idle {
  animation: idleBob 3s ease-in-out infinite;
}

@keyframes idleBob {
  0%,
  100% {
    transform: translateY(0) rotateY(0deg);
  }
  25% {
    transform: translateY(-8px) rotateY(2deg);
  }
  75% {
    transform: translateY(-4px) rotateY(-2deg);
  }
}

/* Shake */
.lootbox-shaking {
  animation: shake 0.15s ease-in-out infinite;
}

@keyframes shake {
  0%,
  100% {
    transform: translateX(0) rotate(0deg);
  }
  25% {
    transform: translateX(-8px) rotate(-3deg);
  }
  50% {
    transform: translateX(8px) rotate(3deg);
  }
  75% {
    transform: translateX(-4px) rotate(-1deg);
  }
}

/* Intense shake */
.lootbox-shaking-intense {
  animation: shakeIntense 0.08s ease-in-out infinite;
}

@keyframes shakeIntense {
  0%,
  100% {
    transform: translateX(0) rotate(0deg) scale(1);
  }
  25% {
    transform: translateX(-12px) rotate(-5deg) scale(1.02);
  }
  50% {
    transform: translateX(12px) rotate(5deg) scale(0.98);
  }
  75% {
    transform: translateX(-6px) rotate(-2deg) scale(1.01);
  }
}

/* Burst particles */
.burst-particle {
  position: absolute;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  pointer-events: none;
}

/* Result card breathing glow */
.result-card-shine {
  animation: borderGlowPulse 2s ease-in-out infinite;
}

@keyframes borderGlowPulse {
  0%,
  100% {
    box-shadow:
      0 0 15px var(--tier-color, #fff),
      0 0 30px color-mix(in srgb, var(--tier-color, #fff) 40%, transparent),
      inset 0 0 15px
        color-mix(in srgb, var(--tier-color, #fff) 10%, transparent),
      0 20px 60px rgba(0, 0, 0, 0.4);
    border-color: var(--tier-color, #fff);
  }
  50% {
    box-shadow:
      0 0 30px var(--tier-color, #fff),
      0 0 60px color-mix(in srgb, var(--tier-color, #fff) 50%, transparent),
      inset 0 0 25px
        color-mix(in srgb, var(--tier-color, #fff) 15%, transparent),
      0 20px 60px rgba(0, 0, 0, 0.4);
    border-color: color-mix(in srgb, var(--tier-color, #fff) 80%, white);
  }
}

/* Screen flash */
.screen-flash {
  animation: flash 0.6s ease-out forwards;
}

@keyframes flash {
  0% {
    opacity: 0.9;
  }
  100% {
    opacity: 0;
  }
}
